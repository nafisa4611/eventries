(()=>{var e={};e.id=641,e.ids=[641],e.modules={2502:e=>{"use strict";e.exports=import("prettier/plugins/html")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5027:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"7f2ec24db3cb7dc34cd642a74e82f1089a47136322":()=>_,"7f95f71d6e3304bf31efca3872ef268c497101cbd6":()=>C,"7fb5d53cbf16c36a2cb20c6712801a4edc0ae37f17":()=>N,"7ff947f34dfb2505e8f67965d16859eaa2d08070f9":()=>w,"7ffa778e2a0bb4d268f5e8dbdfccc5f657610f2926":()=>P});var n=r(91199);r(42087);var s=r(7944),i=r(56037),a=r.n(i);let o=new i.Schema({name:{required:!0,type:String},details:{required:!0,type:String},location:{required:!0,type:String},imageUrl:{required:!0,type:String},interested_ids:{required:!1,type:Array},going_ids:{required:!1,type:Array},swgs:{required:!1,type:Array}}),l=a().models.events??a().model("events",o),d=new i.Schema({name:{required:!0,type:String},email:{required:!0,type:String},password:{required:!0,type:String},phone:{required:!0,type:String},bio:{required:!0,type:String}}),c=a().models.users??a().model("users",d),u=e=>JSON.parse(JSON.stringify(e)),p=e=>{if(!e||"object"!=typeof e)return e;let{_id:t,...r}={...u(e),id:e._id?.toString()};return r};async function m(e){return p(await l.findById(e).lean())}async function f(e){return await c.create(e)}async function h(e){let t=await c.findOne(e).lean();return t?p(t):null}async function v(e,t){try{let r=await l.findById(e);if(!r)return null;let n=r.interested_ids.findIndex(e=>e.toString()===t),s=new(a()).Types.ObjectId(t);-1!==n?r.interested_ids.pull(s):r.interested_ids.push(s);let i=await r.save();return p(i.toObject())}catch(e){throw console.error("Error updating interest:",e),e}}async function b(e,t){let r=await l.findById(e);r.going_ids.push(new(a()).Types.ObjectId(t)),await r.save()}var y=r(90141),x=r(80106),j=r(22570);let g=({message:e})=>(0,j.jsx)("div",{className:"text-xl",children:e});async function C(e){let t=Object.fromEntries(e);await f(t),(0,y.redirect)("/login")}async function P(e){try{let t={};return t.email=e.get("email"),t.password=e.get("password"),await h(t)}catch(e){throw e}}async function w(e,t){try{await v(e,t)}catch(e){throw e}(0,s.revalidatePath)("/")}async function N(e,t){try{await b(e,t?.id),await _(e,t)}catch(e){throw e}(0,s.revalidatePath)("/"),(0,y.redirect)("/")}async function _(e,t){try{console.log(e,t,process.env.RESEND_API_KEY);let r=await m(e),n=new x.u(process.env.RESEND_API_KEY),s=`Dear ${t?.name}, you have been successfully registered for the event, ${r?.name}. Please carry this email and your official id to the venue. We are excited to have you here.`;await n.emails.send({from:"noreply@noreply.nafisa.io",to:t?.email,subject:"Successfully Registered for the event!",react:g({message:s})})}catch(e){throw e}}(0,r(33331).D)([C,P,w,N,_]),(0,n.A)(C,"7f95f71d6e3304bf31efca3872ef268c497101cbd6",null),(0,n.A)(P,"7ffa778e2a0bb4d268f5e8dbdfccc5f657610f2926",null),(0,n.A)(w,"7ff947f34dfb2505e8f67965d16859eaa2d08070f9",null),(0,n.A)(N,"7fb5d53cbf16c36a2cb20c6712801a4edc0ae37f17",null),(0,n.A)(_,"7f2ec24db3cb7dc34cd642a74e82f1089a47136322",null)},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16075:(e,t,r)=>{Promise.resolve().then(r.bind(r,30627))},16679:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\eventries\\\\eventry\\\\components\\\\payments\\\\PaymentForm.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\eventries\\eventry\\components\\payments\\PaymentForm.jsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23644:(e,t,r)=>{Promise.resolve().then(r.bind(r,78576)),Promise.resolve().then(r.bind(r,26908)),Promise.resolve().then(r.t.bind(r,85814,23)),Promise.resolve().then(r.t.bind(r,46533,23))},26908:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var n=r(60687),s=r(85814),i=r.n(s),a=r(65148),o=r(16189);function l(){let{auth:e,setAuth:t}=(0,a.A)(),r=(0,o.useRouter)();return(0,n.jsx)("div",{children:e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"mx-2",children:["Hello, ",e?.name]}),(0,n.jsx)("span",{className:"mx-1",children:"|"}),(0,n.jsx)("a",{className:"cursor-pointer",onClick:()=>{t(null),r.push("/login")},children:"Logout"})]}):(0,n.jsx)(i(),{href:"/login",children:"Login"})})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30627:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(60687),s=r(65148),i=r(6475);let a=(0,i.createServerReference)("7fb5d53cbf16c36a2cb20c6712801a4edc0ae37f17",i.callServer,void 0,i.findSourceMapURL,"addGoingEvent");function o({eventId:e}){let{auth:t}=(0,s.A)();return(0,n.jsxs)("form",{action:()=>a(e,t),children:[(0,n.jsxs)("div",{className:"my-4 space-y-2",children:[(0,n.jsx)("label",{htmlFor:"name",className:"block",children:"Name"}),(0,n.jsx)("input",{type:"text",id:"name",className:"w-full bg-[#27292F] border border-[#CCCCCC]/20 py-1 px-2 rounded-md"})]}),(0,n.jsxs)("div",{className:"my-4 space-y-2",children:[(0,n.jsx)("label",{htmlFor:"email",className:"block",children:"Email"}),(0,n.jsx)("input",{type:"email",id:"email",className:"w-full bg-[#27292F] border border-[#CCCCCC]/20 py-1 px-2 rounded-md"})]}),(0,n.jsxs)("div",{className:"my-4 space-y-2",children:[(0,n.jsx)("label",{htmlFor:"card",className:"block",children:"Card Number"}),(0,n.jsx)("input",{type:"text",id:"card",className:"w-full bg-[#27292F] border border-[#CCCCCC]/20 py-1 px-2 rounded-md"})]}),(0,n.jsxs)("div",{className:"my-4 space-y-2",children:[(0,n.jsx)("label",{htmlFor:"expiry",className:"block",children:"Expiry Date"}),(0,n.jsx)("input",{type:"text",id:"expiry",className:"w-full bg-[#27292F] border border-[#CCCCCC]/20 py-1 px-2 rounded-md"})]}),(0,n.jsxs)("div",{className:"my-4 space-y-2",children:[(0,n.jsx)("label",{htmlFor:"cvv",className:"block",children:"CVV"}),(0,n.jsx)("input",{type:"text",id:"cvv",className:"w-full bg-[#27292F] border border-[#CCCCCC]/20 py-1 px-2 rounded-md"})]}),(0,n.jsx)("button",{type:"submit",className:"w-full my-8 bg-indigo-600 hover:bg-indigo-800 py-2 rounded-md",children:"Pay Now"})]})}},33873:e=>{"use strict";e.exports=require("path")},34095:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});let n=(0,r(43210).createContext)()},37212:(e,t,r)=>{Promise.resolve().then(r.bind(r,74234)),Promise.resolve().then(r.bind(r,40286)),Promise.resolve().then(r.t.bind(r,4536,23)),Promise.resolve().then(r.t.bind(r,49603,23))},40286:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\eventries\\\\eventry\\\\components\\\\auth\\\\SignInOut.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\eventries\\eventry\\components\\auth\\SignInOut.jsx","default")},46055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(31658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},52192:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(37413),s=r(16679);function i({params:{eventId:e}}){return(0,n.jsx)("section",{className:"container",children:(0,n.jsxs)("div",{className:"bg-[#242526] p-6 rounded-lg max-w-xl mx-auto my-12",children:[(0,n.jsx)("h2",{className:"font-bold text-xl mb-8",children:"Payment Details"}),(0,n.jsx)(s.default,{eventId:e})]})})}},55511:e=>{"use strict";e.exports=require("crypto")},56037:e=>{"use strict";e.exports=require("mongoose")},57075:e=>{"use strict";e.exports=require("node:stream")},57289:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var n=r(65239),s=r(48088),i=r(88170),a=r.n(i),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["payment",{children:["[eventId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,52192)),"C:\\Projects\\eventries\\eventry\\app\\payment\\[eventId]\\page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,92290)),"C:\\Projects\\eventries\\eventry\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Projects\\eventries\\eventry\\app\\payment\\[eventId]\\page.js"],u={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/payment/[eventId]/page",pathname:"/payment/[eventId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},60943:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65148:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(34095),s=r(43210);let i=()=>{let{auth:e,setAuth:t}=(0,s.useContext)(n.c);return{auth:e,setAuth:t}}},69191:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},74234:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\eventries\\\\eventry\\\\app\\\\providers\\\\AuthProvider.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\eventries\\eventry\\app\\providers\\AuthProvider.js","default")},78576:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(60687),s=r(43210),i=r(34095);function a({children:e}){let[t,r]=(0,s.useState)(null);return(0,n.jsx)(i.c.Provider,{value:{auth:t,setAuth:r},children:e})}},79123:(e,t,r)=>{Promise.resolve().then(r.bind(r,16679))},79551:e=>{"use strict";e.exports=require("url")},82704:()=>{},83505:e=>{"use strict";e.exports=import("prettier/standalone")},84297:e=>{"use strict";e.exports=require("async_hooks")},92290:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v,metadata:()=>h});var n=r(37413),s=r(59525),i=r.n(s);r(82704);var a=r(53384),o=r(4536),l=r.n(o),d=r(40286);let c=()=>(0,n.jsx)("nav",{children:(0,n.jsxs)("div",{className:"container mx-auto py-4 px-2 flex justify-between items-center",children:[(0,n.jsx)("div",{className:"nav-brand",children:(0,n.jsx)(l(),{href:"/",children:(0,n.jsx)(a.default,{src:"/logo.svg",alt:"Eventry",width:135,height:135,priority:!1})})}),(0,n.jsxs)("ul",{className:"flex gap-4 text-[#9C9C9C]",children:[(0,n.jsx)("li",{children:(0,n.jsx)(d.default,{})}),(0,n.jsx)("li",{className:"",children:"About"}),(0,n.jsx)("li",{className:"",children:"Contact Us"})]})]})});var u=r(74234),p=r(56037),m=r.n(p);async function f(){try{let e=await m().connect(process.env.MONGO_URI);return console.log("connected"),e}catch(e){console.log(e)}}let h={title:"Eventry - Home",description:"Generated by create next app"};async function v({children:e}){return await f(),(0,n.jsx)("html",{lang:"en",children:(0,n.jsx)("body",{className:i().className,children:(0,n.jsxs)(u.default,{children:[(0,n.jsx)(c,{}),(0,n.jsx)("main",{className:"py-8",children:e})]})})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[447,626,658,446],()=>r(57289));module.exports=n})();