(()=>{var e={};e.id=520,e.ids=[520],e.modules={2502:e=>{"use strict";e.exports=import("prettier/plugins/html")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5027:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"7f2ec24db3cb7dc34cd642a74e82f1089a47136322":()=>_,"7f95f71d6e3304bf31efca3872ef268c497101cbd6":()=>P,"7fb5d53cbf16c36a2cb20c6712801a4edc0ae37f17":()=>S,"7ff947f34dfb2505e8f67965d16859eaa2d08070f9":()=>C,"7ffa778e2a0bb4d268f5e8dbdfccc5f657610f2926":()=>w});var n=r(91199);r(42087);var s=r(7944),i=r(56037),o=r.n(i);let a=new i.Schema({name:{required:!0,type:String},details:{required:!0,type:String},location:{required:!0,type:String},imageUrl:{required:!0,type:String},interested_ids:{required:!1,type:Array},going_ids:{required:!1,type:Array},swgs:{required:!1,type:Array}}),l=o().models.events??o().model("events",a),d=new i.Schema({name:{required:!0,type:String},email:{required:!0,type:String},password:{required:!0,type:String},phone:{required:!0,type:String},bio:{required:!0,type:String}}),c=o().models.users??o().model("users",d),u=e=>JSON.parse(JSON.stringify(e)),p=e=>{if(!e||"object"!=typeof e)return e;let{_id:t,...r}={...u(e),id:e._id?.toString()};return r};async function f(e){return p(await l.findById(e).lean())}async function m(e){return await c.create(e)}async function h(e){let t=await c.findOne(e).lean();return t?p(t):null}async function v(e,t){try{let r=await l.findById(e);if(!r)return null;let n=r.interested_ids.findIndex(e=>e.toString()===t),s=new(o()).Types.ObjectId(t);-1!==n?r.interested_ids.pull(s):r.interested_ids.push(s);let i=await r.save();return p(i.toObject())}catch(e){throw console.error("Error updating interest:",e),e}}async function x(e,t){let r=await l.findById(e);r.going_ids.push(new(o()).Types.ObjectId(t)),await r.save()}var b=r(90141),y=r(80106),g=r(22570);let j=({message:e})=>(0,g.jsx)("div",{className:"text-xl",children:e});async function P(e){let t=Object.fromEntries(e);await m(t),(0,b.redirect)("/login")}async function w(e){try{let t={};return t.email=e.get("email"),t.password=e.get("password"),await h(t)}catch(e){throw e}}async function C(e,t){try{await v(e,t)}catch(e){throw e}(0,s.revalidatePath)("/")}async function S(e,t){try{await x(e,t?.id),await _(e,t)}catch(e){throw e}(0,s.revalidatePath)("/"),(0,b.redirect)("/")}async function _(e,t){try{console.log(e,t,process.env.RESEND_API_KEY);let r=await f(e),n=new y.u(process.env.RESEND_API_KEY),s=`Dear ${t?.name}, you have been successfully registered for the event, ${r?.name}. Please carry this email and your official id to the venue. We are excited to have you here.`;await n.emails.send({from:"noreply@noreply.nafisa.io",to:t?.email,subject:"Successfully Registered for the event!",react:j({message:s})})}catch(e){throw e}}(0,r(33331).D)([P,w,C,S,_]),(0,n.A)(P,"7f95f71d6e3304bf31efca3872ef268c497101cbd6",null),(0,n.A)(w,"7ffa778e2a0bb4d268f5e8dbdfccc5f657610f2926",null),(0,n.A)(C,"7ff947f34dfb2505e8f67965d16859eaa2d08070f9",null),(0,n.A)(S,"7fb5d53cbf16c36a2cb20c6712801a4edc0ae37f17",null),(0,n.A)(_,"7f2ec24db3cb7dc34cd642a74e82f1089a47136322",null)},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21693:(e,t,r)=>{Promise.resolve().then(r.bind(r,27409)),Promise.resolve().then(r.t.bind(r,4536,23))},23644:(e,t,r)=>{Promise.resolve().then(r.bind(r,78576)),Promise.resolve().then(r.bind(r,26908)),Promise.resolve().then(r.t.bind(r,85814,23)),Promise.resolve().then(r.t.bind(r,46533,23))},26908:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var n=r(60687),s=r(85814),i=r.n(s),o=r(65148),a=r(16189);function l(){let{auth:e,setAuth:t}=(0,o.A)(),r=(0,a.useRouter)();return(0,n.jsx)("div",{children:e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"mx-2",children:["Hello, ",e?.name]}),(0,n.jsx)("span",{className:"mx-1",children:"|"}),(0,n.jsx)("a",{className:"cursor-pointer",onClick:()=>{t(null),r.push("/login")},children:"Logout"})]}):(0,n.jsx)(i(),{href:"/login",children:"Login"})})}},27409:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\eventries\\\\eventry\\\\components\\\\auth\\\\LogInForm.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\eventries\\eventry\\components\\auth\\LogInForm.jsx","default")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32830:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var n=r(60687),s=r(43210),i=r(6475);let o=(0,i.createServerReference)("7ffa778e2a0bb4d268f5e8dbdfccc5f657610f2926",i.callServer,void 0,i.findSourceMapURL,"performLogin");var a=r(65148),l=r(16189);function d(){let[e,t]=(0,s.useState)(""),{setAuth:r}=(0,a.A)(),i=(0,l.useRouter)();async function d(e){e.preventDefault();try{let n=new FormData(e.currentTarget),s=await o(n);s?(r(s),i.push("/")):t("Please provide a valid login credential")}catch(e){t(e.message)}}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"my-2 text-red-500",children:e}),(0,n.jsxs)("form",{className:"login-form",onSubmit:d,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,n.jsx)("input",{type:"email",name:"email",id:"email"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",children:"Password"}),(0,n.jsx)("input",{type:"password",name:"password",id:"password"})]}),(0,n.jsx)("button",{type:"submit",className:"btn-primary w-full mt-4 py-8 bg-indigo-600 hover:bg-indigo-800",children:"Login"})]})]})}},33873:e=>{"use strict";e.exports=require("path")},34095:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});let n=(0,r(43210).createContext)()},37212:(e,t,r)=>{Promise.resolve().then(r.bind(r,74234)),Promise.resolve().then(r.bind(r,40286)),Promise.resolve().then(r.t.bind(r,4536,23)),Promise.resolve().then(r.t.bind(r,49603,23))},40286:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\eventries\\\\eventry\\\\components\\\\auth\\\\SignInOut.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\eventries\\eventry\\components\\auth\\SignInOut.jsx","default")},46055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(31658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},55511:e=>{"use strict";e.exports=require("crypto")},56037:e=>{"use strict";e.exports=require("mongoose")},57075:e=>{"use strict";e.exports=require("node:stream")},60943:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65148:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(34095),s=r(43210);let i=()=>{let{auth:e,setAuth:t}=(0,s.useContext)(n.c);return{auth:e,setAuth:t}}},69191:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},69747:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var n=r(65239),s=r(48088),i=r(88170),o=r.n(i),a=r(30893),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d={children:["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,77795)),"C:\\Projects\\eventries\\eventry\\app\\login\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,92290)),"C:\\Projects\\eventries\\eventry\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Projects\\eventries\\eventry\\app\\login\\page.js"],u={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},74234:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\eventries\\\\eventry\\\\app\\\\providers\\\\AuthProvider.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\eventries\\eventry\\app\\providers\\AuthProvider.js","default")},77795:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(37413),s=r(27409),i=r(4536),o=r.n(i);function a(){return(0,n.jsx)("section",{className:"grid place-items-center",children:(0,n.jsxs)("div",{className:"max-w-[450px] w-full mx-auto p-6 border border-gray-700/20 rounded-md",children:[(0,n.jsx)("h4",{className:"font-bold text-2xl",children:"Sign in"}),(0,n.jsx)(s.default,{}),(0,n.jsxs)("span",{className:"text-center text-xs text-gray-500",children:["Do not have an account?",(0,n.jsx)(o(),{className:"underline hover:text-indigo-600 mx-1",href:"/register",children:"Register"})]})]})})}},78576:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(60687),s=r(43210),i=r(34095);function o({children:e}){let[t,r]=(0,s.useState)(null);return(0,n.jsx)(i.c.Provider,{value:{auth:t,setAuth:r},children:e})}},79551:e=>{"use strict";e.exports=require("url")},82704:()=>{},83505:e=>{"use strict";e.exports=import("prettier/standalone")},84297:e=>{"use strict";e.exports=require("async_hooks")},91837:(e,t,r)=>{Promise.resolve().then(r.bind(r,32830)),Promise.resolve().then(r.t.bind(r,85814,23))},92290:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v,metadata:()=>h});var n=r(37413),s=r(59525),i=r.n(s);r(82704);var o=r(53384),a=r(4536),l=r.n(a),d=r(40286);let c=()=>(0,n.jsx)("nav",{children:(0,n.jsxs)("div",{className:"container mx-auto py-4 px-2 flex justify-between items-center",children:[(0,n.jsx)("div",{className:"nav-brand",children:(0,n.jsx)(l(),{href:"/",children:(0,n.jsx)(o.default,{src:"/logo.svg",alt:"Eventry",width:135,height:135,priority:!1})})}),(0,n.jsxs)("ul",{className:"flex gap-4 text-[#9C9C9C]",children:[(0,n.jsx)("li",{children:(0,n.jsx)(d.default,{})}),(0,n.jsx)("li",{className:"",children:"About"}),(0,n.jsx)("li",{className:"",children:"Contact Us"})]})]})});var u=r(74234),p=r(56037),f=r.n(p);async function m(){try{let e=await f().connect(process.env.MONGO_URI);return console.log("connected"),e}catch(e){console.log(e)}}let h={title:"Eventry - Home",description:"Generated by create next app"};async function v({children:e}){return await m(),(0,n.jsx)("html",{lang:"en",children:(0,n.jsx)("body",{className:i().className,children:(0,n.jsxs)(u.default,{children:[(0,n.jsx)(c,{}),(0,n.jsx)("main",{className:"py-8",children:e})]})})})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[447,626,658,446],()=>r(69747));module.exports=n})();